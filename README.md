# Vim Configuration

My configuration files for Vim. Tuned to play nice with [MacVim][macvim]. Setup using [homesick][homesick] for that symlinkn' goodness.


## Installation Notes

Basic setup instructions to get the party started:

1. Install the latest snapshot of [MacVim][macvim] using [homebrew][homebrew] `brew install macvim`
- [Homebrew][homebrew] will also install the command line link as `mvim` which will open the editor from Terminal
- Install [homesick][homesick] `gem install homesick`
- Run `homesick clone git://github.com/mkitt/vimfiles.git` to clone the repository
- Copy and Paste `.vimrc.local.example` to `.vimrc.local` and tweak the settings to your needs
- Symlink `homesick symlink vimfiles` to create the necessary dot files within the `~/` directory
- Move to the homesick directory`cd ~/.homesick/repos/vimfiles/`
- Run `git submodule init`
- Run `git submodule update`
- Run `bash update`
- Launch [MacVim][macvim] from Terminal by typing `mvim` and hitting enter
- Right click the logo in your dock and select `Options > Show in Finder`
- Create an alias of `MacVim.app` and drop it in the `/Applications/` directory (this will allow it to be found by Spotlight)
- Optionally choose to keep the icon in your dock `Options > Keep in Dock`

You should now be ready to get down to business.


## Updating The Configuration

As a reminder to update the configuration do the following:

1. close down MacVim
- `cd ~/.homesick/repos/vimfiles/`
- `cd home/.vim/bundle/snipmate.vim`
- `git fetch upstream master`
- `git merge upstream/master`
- `git push push master` on the following:
  - `bundle/markdown-preview.vim`
  - `bundle/browser-refresh.vim`
  - `bundle/snipmate.vim`
  - `syntax_checkers/compilers/nodelint-config/`
- `cd ~/.homesick/repos/vimfiles/`
- `$ bash update`
- commit the changes

`$ bash update` will handle cleaning out tags generated by help docs, pull any upstream changes from the submodules, and open give you a status so you can make sure there isn't any damage done on the pulled upstream changes. It looks like:

    git submodule foreach git checkout master
    git submodule foreach git clean -f
    git submodule foreach git pull --rebase
    git status


## Custom Configurations

Within the configuration there is a file `.vimrc.local`, this stores local configurations based on the machine running it. Anything in here overrides properties set in `.vimrc`. This is setup for easy forking of the project.

Most of the custom configurations come from the submodules within `.vim/bundle`. Highly suggest [taking a look at these][bundles] and their help docs to see what they do and how they work. Custom settings are applied in `.vimrc`, so take a look at that as well.

The configuration is rolling it's own fork of [snipmate.vim][snipmate] primarily to change some of the key commands that invoke a snippet. There has been quite a few additions to the snippets, mainly ported from TextMate and a bunch of new ones added. Snippets are your friend, check them out and use them wisely.

The configuration uses [syntastic][syntastic] quite heavily, most of it is out of the box. The one difference deals with JavaScript. 

The JavaScript syntax checker runs off of [nodelint][nodelint] ([node][node] + [JSLint][jslint]) instead of jsl. The submodule to [nodelint][nodelint] is under `.vim/syntax_checkers/compilers/`. Also under this directory is [nodelint-config][nodelint-config]. This is the default global settings for all JavaScript files. It's possible, with a global variable, to override this location. In your `.vimrc` file.

`let g:NodelintConfig = 'path/to/your/config.js'` 

This will override the one in `.vim/syntax_checkers/compilers/nodelint-config`. There is one more level of overriding you can perform, and this is at the project level. At the root level of your project, stick a file in there with the name `nodelint-config.js` and add the settings required by your project. In order for this to work, within Vim, you'll need to set the project root directory as the `cwd` for the Vim session.

If you don't have `node` installed, a simple `brew install node` does the trick.


## Editor Themes

Themes included with this configuration:

1. `colorblind`: Black background, super vibrant colors
- `snowblind`: White background, vibrant colors
- `cataracts`: Grey background with muted colors
- `bloodshot`: Similar to colorblind but with muted colors

The color themes have been designed with similarities in the syntax settings. Jumping between multiple languages should be easy on the mind and the eyes. Be adventurous and mix it up once in a while.

**Most themes use the custom [MesloGM font](https://github.com/andreberg/Meslo-Font). Download, install and live the dream.**


## Submodules 

A few notes for future reference about working with `git submodules` taken from [cheat sheets][cheat-sheets].


### Adding Submodules: 

    git submodule add <remote_repository> <path/to/submodule>
    git submodule init
    git submodule update


### Updating Submodules 

    git submodule foreach <command>


### Removing Submodules 

   1. Delete the relevant line from the `.gitmodules` file
   2. Delete the relevant section from `.git/config`
   3. Run `git rm --cached path_to_submodule` (no trailing slash)


### Working With Your Own Submodules

In order to keep your personal submodules available to forks but allow commits back to the upstream master repository from within the submodule:

1. Create the repository for your bundle within git
-  Then from the `vimfiles` directory add the submodule as you would any other submodule
-  Within your newly created submodule, create a remote reference to the upstream master repository
-  Make changes to the submodule and push updates back to the remote upstream master
-  Then whenever you pull updates to all of your submodules, you as well as everyone else should get the changes

Here is an example:
  
    cd ~/.homesick/repos/vimfiles/
    git submodule add git://github.com/mkitt/submodule-name.vim.git home/.vim/bundle/submodule-name.vim
    cd home/.vim/bundle/submodule-name.vim/
    git remote add push git@github.com:mkitt/submodule-name.vim.git
    git submodule init
    git submodule update

Then whenever you make changes to the submodule:

    cd ~/.homesick/repos/vimfiles/home/.vim/bundle/submodule-name.vim/
    git push push master

This allows you to make changes directly in your submodule, see the effects and push the changes back without maintaining multiple repositories and linking them back and forth. [Defunkt][defunkt] has a good article about [working with submodules][defunkt-subs].


## License and Contributions 

All licensing for the Bundles/Plugins should be found in their respective repositories. Anything written by me is of course open source through MIT. While contributions are welcome, you're probably better off forking and tuning it to your own machine.

Copyright (c) 2010 by Matthew Kitt

Permission is hereby granted, free of charge, to any person 
obtaining a copy of this software and associated documentation 
files (the "Software"), to deal in the Software without 
restriction, including without limitation the rights to use, 
copy, modify, merge, publish, distribute, sublicense, and/or sell 
copies of the Software, and to permit persons to whom the 
Software is furnished to do so, subject to the following 
conditions:

The above copyright notice and this permission notice shall be 
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, 
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES 
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND 
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT 
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, 
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING 
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR 
OTHER DEALINGS IN THE SOFTWARE.

[macvim]: http://code.google.com/p/macvim/
[homebrew]: http://github.com/mxcl/homebrew
[homesick]: http://github.com/technicalpickles/homesick
[snipmate]: http://github.com/mkitt/snipmate.vim
[syntastic]: http://github.com/scrooloose/syntastic
[node]: http://nodejs.org/
[jslint]: http://www.jslint.com/lint.html
[nodelint]: http://github.com/tav/nodelint
[nodelint-config]: http://github.com/mkitt/nodelint-config
[bundles]: http://github.com/mkitt/vimfiles/tree/master/home/.vim/bundle/
[cheat-sheets]: http://cheat.errtheblog.com/s/git
[defunkt]: http://github.com/defunkt
[defunkt-subs]: http://github.com/guides/developing-with-submodules
